# Инструкция по плагину ScrollSmoother

> Так как плагин ScrollSmoother это дополнение к плагину ScrollTrigger, то нам необходимо зарегистрировать оба этих плагина, чтобы пользоваться плагином ScrollSmoother.

> Пример регистрация плагина на JS

```JS
gsap.registerPlugin(ScrollTrigger, ScrollSmoother);
```

> После того как мы зарегистрировали плагин мы можем им пользоваться.

|Свойство|Значение|Комментарий|
|-|-|-|
| wrapper | Строка | Указывается родительский элемент. То есть контейнер, который принимает в себя контент, к которому нужно применить плавный скролл. Если задать в HTML разметке у контейнера id со значением smooth-wrapper, то данное свойство можно не указывать|
| content | Строка | А это уже блок с контентом, к которому будет применен плавный скролл. Если указать в HTML разметке данному блоку id со значением smooth-content, то данное свойство можно не указывать|
| smooth | Число | Время, которое нужно, чтобы догнать исходную прокрутку. По умолчанию 0.8

> Пример реализации в HTML

```html
<div class="smooth-wrapper">
	<div class="smooth-content">
		<p>Этот абцаз и все нижележащие html элементы будут с плавным скроллом</p>
		...
	</div>
</div>
```

>Пример реализации в JS

```JS
const smoother = ScrollSmoother.create({
	wrapper: '.smooth-wrapper',
	content: '.smooth-content',
	smooth: 1.5,
})
```

|Свойство|Значение|Комментарий|
|-|-|-|
| smoothTouch | Число или Boolean | По умолчанию ScrollSmoother не будет применять сглаживание прокрутки на сенсорных устройствах (таких как телефоны), потому что это обычно кажется странным пользователям, когда оно отключается от положения перетаскивания их пальца, но вы также можете принудительно сгладить на сенсорных устройствах, установив (так же, smoothTouch: true как smooth значение) или укажите количество, например smoothTouch: 0.1 (в секундах). Когда сглаживание отключено на сенсорных устройствах, он даже не установит элемент-оболочку для position: fixedиспользования его в качестве виртуального окна просмотра, потому что это расточительно. Таким образом, фундаментальная механика меняется, отдавая приоритет «нормальной» прокрутке.
| effects | Boolean | Эффекты прокрутки. По умолчанию false. Если мы хотим включить эффекты, то нам необходимо указать значение true, затем в html добавить атрибут data-speed с разными значениями. По умолчанию значение равно 1, что значит прокрутка нормальная. Все что меньше 1 замедляет, все что больше 1 ускоряет. Также можно указать атрибут data-lag с разными значениями. Этот атрибут придает ленивость элементам, они как бы отстают от прокрутки и потом догоняют ее. По умолчанию равно 0.

> Эффекты также можно настроить в JS. Для этого мы передаем в метод effects в качестве первого аргумента цель или цели, к которым будет применен эффект, а вторым аргументов передаем опции. В данном примере мы создадим ступенчатый эффект.

> Пример реализации эффектов в JS

```JS
smoother.effects('.box', {
	speed: 0.5,
	lag: (element) => element * 1
})
```

## Параллакс

> Весь секрет в том, что нам нужно поместь нашу картинку в контейнер, отлично подойдет html тег picture. И затем просто абсолютно спозиционировать картинку в контейнере и задать ей высоту больше чем у контейнера, а у самого контейнера скрыть переполнение.

> Пример реализации параллакса в JS

```js
smoother.effects("img", {
	speed: 'auto',
})
```

> Пример реализации параллакса в CSS

```css
picture {
	height: 40vh;
	max-height: 500px;
	position: relative;
	overflow: hidden;
}

img {
	width: 100%;
	height: 150%;
	position: absolute;
	left: 0;
	bottom: 0;
	object-fit: cover;

}
```

## Методы

```js
smoother.scrollTo()
```
|Метод|Значение|Комментарий|
|-|-|-|
|get()|Получает экземпляр плавной прокрутки|Если мы не знаем есть ли у нас экземпляр плавной прокрутки на странице, то мы можем воспользоваться данным методов, что получить ссылку на него

> Пример реализации в JS

```JS
ScroolSmoother.get();
```

|Метод|Значение|Комментарий|
|-|-|-|
|scrollTo()|Плавный скролл до нужного элемента|Принимает в себя 3 аргумента. 1-ый аргумент это элемент или строка, к которому будет осуществлен скролл. Также можно указать числовое значение, на которое осуществится скролл. 2-ой аргумент показывает какой будет прокрутка плавной или обычной. Если указать true, то прокрутка будет плавной. 3-ий аргумент отвечает за то, где именно в конце окажется скролл. Например "top 100px" означает , что верхняя часть целевого элемента находится на 100 пикселей ниже верхней части области просмотра»

> Пример реализации в JS

```JS
smoother.scrollTo(400, true, "center center")
```

|Метод|Значение|Комментарий|
|-|-|-|
|paused()|Остановить прокрутку|В качестве аргумента передается Boolean значение. Если true, то прокрутка будет остановлена.

```JS
smoother.paused(true)
```

|Метод|Значение|Комментарий|
|-|-|-|
|getVelocity()|Получить текущую скорость прокрутки пикселей в сенкунду|Не принимает никакие аргументы.

```JS
smoother.getVelocity();
или
onUpdate: (self) => {
	console.log(self.getVelocity())
}
```

|Метод|Значение|Комментарий|
|-|-|-|
|wrapper()|Получить или установить оболочку|Если мы ничего не передаем, то мы получаем оболочку у прокрутки, если мы передаем строку или элемент, то мы задаем оболочку

```JS
let wrapper = smoother.wrapper(); // Получаем оболочку
smoother.wrapper("#wrapper"); // Задаем оболочку
```

|Метод|Значение|Комментарий|
|-|-|-|
|content()|Получить или установить контент для оболочки у прокрутки|Если мы ничего не передаем, то мы получаем конент для оболочки у прокрутки, если мы передаем строку или элемент, то мы задаем контент для оболочки

```JS
let content = smoother.content(); // Получаем оболочку
smoother.content("#content"); // Задаем оболочку
```

|Метод|Значение|Комментарий|
|-|-|-|
|smoother()|Получает/устанавливает количество секунд, которое требуется, чтобы догнать положение прокрутки.|Если мы ничего не передаем, то мы получаем количество секунд, чтобы догнать положение прокрутки, если мы передаем число, то мы задаем количество секунд, чтобы догнать положение прокрутки.

```JS
smoother.smooth(1.5); // Задаем
let duration = smoother.smooth(); // Получаем
```

|Метод|Значение|Комментарий|
|-|-|-|
|kill()|Убивает плавный скролл|Если нам по какой-либо причине нужно отключить плавный скролл, то этот метод отлично нам подойдет.

```JS
smoother.kill();
```

## Callback функции

|Функция|Значение|Комментарий|
|-|-|-|
|onStop|Завершение прокрутки|Функция, которая выполнится, когда прокрутка остановится.

```JS
onStop: () => {
	console.log('Прокрутка завершена')
}
```

|Функция|Значение|Комментарий|
|-|-|-|
|onUpdate|Обновление прокрутки|Функция, которая выполнится, когда прокрутка обновится.